# =============================================================================
# UI Configuration - Production
# =============================================================================
# Frontend Next.js service configuration for production
#
# Usage: Copy to .env.ui.prod
#   cp .env.ui.prod.example .env.ui.prod
#
# =============================================================================
# IMPORTANT: Understanding NEXT_PUBLIC_* vs Server-only Variables
# =============================================================================
#
# NEXT_PUBLIC_* (Build-time):
#   - Baked into client bundle at BUILD time
#   - Visible to browser (anyone can see in page source)
#   - Safe for: App URLs, feature flags, cookie names, Sentry DSN
#   - NEVER put secrets here!
#
# Server-only (Runtime):
#   - Only available on Next.js server at RUNTIME
#   - Hidden from browser
#   - Safe for: Backend URLs, JWT secrets, API keys
#
# =============================================================================

VERSION=v0.1.0

# -----------------------------------------------------------------------------
# Build-time Variables (NEXT_PUBLIC_*)
# These are passed as build args to Docker
# -----------------------------------------------------------------------------
NEXT_PUBLIC_APP_URL=https://<CHANGE_ME_YOUR_DOMAIN>
NEXT_PUBLIC_AUTH_PROVIDER=local
NEXT_PUBLIC_AUTH_COOKIE_NAME=rediver_auth_token
NEXT_PUBLIC_REFRESH_COOKIE_NAME=rediver_refresh_token
NEXT_PUBLIC_OAUTH_CALLBACK_URL=
NEXT_PUBLIC_SENTRY_DSN=<CHANGE_ME_SENTRY_DSN>

# Keycloak (only for oidc or hybrid auth)
# NEXT_PUBLIC_KEYCLOAK_URL=https://auth.yourdomain.com
# NEXT_PUBLIC_KEYCLOAK_REALM=rediver
# NEXT_PUBLIC_KEYCLOAK_CLIENT_ID=rediver-ui
# NEXT_PUBLIC_KEYCLOAK_REDIRECT_URI=https://yourdomain.com/auth/callback

# -----------------------------------------------------------------------------
# Runtime Variables (Server-only)
# -----------------------------------------------------------------------------
# Internal backend URL - Next.js server proxies to this
# Browser CANNOT see this URL
BACKEND_API_URL=http://api:8080
API_TIMEOUT=30000

# Keycloak client secret (only for oidc or hybrid auth)
# KEYCLOAK_CLIENT_SECRET=<CHANGE_ME_KEYCLOAK_SECRET>

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# MUST be true in production for HTTPS
SECURE_COOKIES=true

# CRITICAL: Generate a secure random secret (min 32 characters)
# Generate with: openssl rand -hex 32
CSRF_SECRET=<CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32>

# -----------------------------------------------------------------------------
# Cookie Settings
# -----------------------------------------------------------------------------
COOKIE_MAX_AGE=604800
ENABLE_TOKEN_REFRESH=true
TOKEN_REFRESH_BEFORE_EXPIRY=300

# -----------------------------------------------------------------------------
# Ports
# -----------------------------------------------------------------------------
UI_PORT=3000
